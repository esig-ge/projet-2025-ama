:root{
    /* Palette de couleurs et styles globaux */
    --bg:#ffffff;           /* fond principal */
    --card:#ffffff;         /* fond des cartes */
    --ink:#1a1a1a;          /* couleur du texte standard */
    --muted:#6b6b6b;        /* texte secondaire/grisé */
    --accent:#8d0e0e;       /* couleur principale (rouge foncé) */
    --accent-weak:#5e0808;  /* variante plus sombre de l’accent */
    --stroke:#e7e7ea;       /* couleur des bordures */
    --shadow:0 10px 24px rgba(0,0,0,.06); /* ombre douce */

    /* Variable pour gérer l’espace du header fixé */
    --header-h: 72px;
}

/* Réinitialisation basique */
*{box-sizing:border-box}
html,body{height:100%}

body{
    margin:0;
    color:var(--ink);
    background:var(--bg);
    font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial;

    /* Technique “flex column” pour coller le footer en bas */
    display:flex;
    flex-direction:column;
    min-height:100vh;

    /* On évite que le contenu passe sous le header fixé */
    padding-top:var(--header-h);
}
main{flex:1} /* le main prend toute la hauteur restante */

.wrap{
    max-width:1100px;
    margin:0 auto;
    padding:16px
}
.page-title{
    margin:18px 0 12px;
    text-align:center
}

/* Mise en page en grille : colonne liste (gauche) + résumé (droite) */
.grid{
    display:grid;
    gap:18px;
    grid-template-columns: 1.6fr .9fr;
}
@media (max-width:900px){
    /* Sur petits écrans : une seule colonne */
    .grid{grid-template-columns: 1fr}
}

/* Style des “cartes” (boîtes avec fond, bordure, arrondi, ombre) */
.card{
    background:var(--card);
    border:1px solid var(--stroke);
    border-radius:16px;
    box-shadow:var(--shadow);
}

/* === Lignes produits détaillées === */
.cart-item,
.cart-line{
    display:grid;
    grid-template-columns: 80px 1fr auto auto 36px; /* image | titre | PU | total | bouton */
    gap:12px;
    align-items:center;
    padding:16px;
    border-bottom:1px solid var(--stroke);
}
.cart-item:last-child,
.cart-line:last-child{border-bottom:none}

.item-img,
.thumb{
    width:80px;height:80px;
    border-radius:12px;
    object-fit:cover;
    border:1px solid var(--stroke);
    background:#fafafa;
}

.item-title,
.meta .name{font-weight:700}

.item-sub,
.meta .price ~ .sub{
    color:var(--muted);
    font-size:13px
}

/* Bloc quantité avec boutons +/- et input */
.qty{
    display:flex; align-items:center; gap:10px; justify-self:end;
}
.qty button,
.btn-ghost{
    min-width:32px; height:32px; padding:0 10px;
    border-radius:999px;
    border:1px solid var(--stroke);
    background:#f7f7f8;
    color:var(--ink);
    font-weight:700;
    cursor:pointer;
}
.qty input{
    width:54px; text-align:center;
    background:#fff; color:var(--ink);
    border:1px solid var(--stroke);
    border-radius:12px;
    padding:8px 0;
}

.price, .line-total{
    justify-self:end;
    font-weight:700
}

/* Bouton supprimer */
.remove,
.btn-remove{
    width:32px;height:32px;
    border-radius:999px;
    border:1px solid var(--stroke);
    background:#fff;
    color:var(--accent);
    cursor:pointer;
    font-size:18px;
}

/* Résumé de la commande (colonne de droite) */
.summary{padding:18px}
.sum-row{
    display:flex;
    justify-content:space-between;
    margin:8px 0;
    color:var(--muted)
}
.sum-total{
    display:flex;
    justify-content:space-between;
    margin:14px 0;
    font-size:22px;
    font-weight:800
}

/* Bouton “Valider ma commande” */
.btn-primary{
    display:block;
    text-align:center;
    padding:12px 18px;
    border-radius:999px;
    background:var(--accent);
    color:#fff;
    text-decoration:none;
    font-weight:800;
    margin:12px 0 8px;
    border:1px solid var(--accent);
    transition:background .15s ease;
}
.btn-primary:hover{
    background:var(--accent-weak);
    border-color:var(--accent-weak)
}

/* Style quand désactivé (panier vide) */
.btn-primary[aria-disabled="true"]{
    background:#e9e9ec;
    border-color:#e9e9ec;
    color:#9b9ba0;
    pointer-events:none;
}

/* Champ code promo + bouton */
.coupon{display:flex;gap:10px;margin:12px 0}
.coupon input{
    flex:1;
    border-radius:12px;
    border:1px solid var(--stroke);
    background:#fff;
    color:var(--ink);
    padding:12px 14px
}
.btn-ghost{padding:10px 14px}

/* Bloc d’aide (contact, infos livraison…) */
.help{
    border-top:1px solid var(--stroke);
    margin-top:12px;
    padding-top:12px
}
.help ul{
    margin:8px 0 0 18px;
    color:var(--muted)
}

/* Footer */
.dkb-footer{
    border-top:1px solid var(--stroke);
    margin-top:30px;
    color:var(--muted);
    background:#fff;
}

/* Message quand le panier est vide */
.empty{
    display:flex;
    align-items:center;
    justify-content:center;
    min-height:280px;
    text-align:center;
    color:var(--muted);
}
.empty strong{color:var(--ink)}

/* Classe utilitaire pour cacher visuellement mais garder accessible aux lecteurs d’écran */
.sr-only{
    position:absolute;
    width:1px;height:1px;
    padding:0;margin:-1px;
    overflow:hidden;
    clip:rect(0,0,0,0);
    border:0;
}

/* Accessibilité : focus visible */
a:focus,button:focus,input:focus{
    outline:2px solid rgba(141,14,14,.35);
    outline-offset:2px
}

/* Redondance : état désactivé du bouton checkout */
#btn-checkout[aria-disabled="true"] {
    pointer-events: none;
    opacity: .6;
}

/* Variante compacte des lignes produit */
.cart-brief{
    display:grid;
    grid-template-columns: 1fr auto auto auto; /* Nom | Qte | PU | Total */
    gap:12px;
    align-items:center;
    padding:16px;
    border-bottom:1px solid var(--stroke);
}
.cart-brief .name{font-weight:700}
.cart-brief .qty{color:var(--muted)}
.cart-brief .unit{justify-self:end}
.cart-brief .total{justify-self:end;font-weight:700}

/* --- Toast ajouté au panier --- */
.dk-toast {
    position: fixed;
    left: 50%;
    top: 24px;
    transform: translateX(-50%);
    z-index: 9999;
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(6px);
    box-shadow: 0 10px 30px rgba(0,0,0,.15);
    border-radius: 14px;
    padding: 12px 16px;
    display: flex;
    align-items: center;
    gap: 12px;
    opacity: 0;
    pointer-events: none;
    transition: opacity .25s ease, transform .25s ease;
    border: 1px solid rgba(0,0,0,.06);
}
.dk-toast.show {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
}
.dk-toast .thumb {
    width: 44px; height: 44px; border-radius: 10px; object-fit: cover;
    box-shadow: 0 4px 14px rgba(0,0,0,.12);
}
.dk-toast .msg {
    font-size: 14px; line-height: 1.35; color: #222;
}
.dk-toast .msg strong { font-weight: 700; }

/* --- Canvas de confetti pétales --- */
#dk-petals {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 9998;
}
/* === Lignes produits utilisées par le JS (cart-row) === */
.cart-row{
    display:grid;
    grid-template-columns: 80px 1fr auto auto; /* image | nom | PU | total */
    gap:12px;
    align-items:center;
    padding:16px;
    border-bottom:1px solid var(--stroke);
}
.cart-row:last-child{ border-bottom:none; }
.cart-img{
    width:80px;height:80px;
    border-radius:12px;
    object-fit:cover;
    border:1px solid var(--stroke);
    background:#fafafa;
}
.cart-name{ font-weight:700; }
.cart-unit,.cart-total{ justify-self:end; }
@media (max-width:600px){
    .cart-row{ grid-template-columns:64px 1fr auto; }
    .cart-img{ width:64px;height:64px; }
    .cart-unit{ display:none; } /* on cache le PU sur petit écran, on garde le total */
}

/* Préférence utilisateur: réduire les animations */
@media (prefers-reduced-motion: reduce){
    .dk-toast{ transition:none; }
}

