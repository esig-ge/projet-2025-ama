/* =========================================================
   DK Bloom — style_catalogue.css
   Regroupe : sélection produit, fleurs, bouquets, coffrets,
   suppléments et emballages (styles spécifiques).
   Dépend de : style.css + style_header_footer.css
   ========================================================= */

/* =========================================================
   0) Aides (aucun override fort des variables globales)
   ========================================================= */
:root{
    /* On s’appuie sur vos variables globales :
       - --accent (style.css)
       - --brand  (style_header_footer.css) qui reprend --accent
       Ici, on les utilise sans les redéfinir. */
    --accent-ui: var(--brand, var(--accent, #8d0e0e));
    --accent-ui-weak: color-mix(in srgb, var(--accent-ui) 78%, #000 22%);
    --card-min: 240px;
}

/* =========================================================
   1) Sélection produit (interface_selection_produit.php)
   Bandeau hero + centre + showcase + pills
   ========================================================= */

/* Bandeau rouge UNIFORME (comme “Notre histoire”) */
.page-hero{
    position: relative;
    z-index: 0;
    /* on respecte la hauteur du header fixe définie dans style_header_footer.css */
    padding: calc(28px + var(--header-h, 80px)) 16px 52px;
    text-align: center;
    color: #fff;
    /* dégradé rouge sans transparence */
    background: linear-gradient(180deg, #5C0012 0%, #8A1B2E 100%);
    /* fine séparation blanche en bas (pas de voile) */
    border-bottom: 1px solid #fff;
}
.page-hero__title{
    /* même police/poids que vos h1 globaux */
    font-family: inherit;
    font-weight: inherit;
    font-size: clamp(28px, 4.8vw, 48px);
    line-height: 1.1;
    margin: 0 0 6px;
}
.page-hero__sub{
    font-family: inherit;
    font-weight: inherit;
    font-size: clamp(14px, 2.4vw, 18px);
    line-height: 1.35;
    margin: 0;
    opacity: .95;
}

/* IMPORTANT : le fond à pois vient déjà de style.css (html, body).
   Donc on NE MET PAS de background ici pour ne rien masquer. */
.catalogue.luxe{
    min-height: calc(100vh - 120px);
    display: flex; align-items: center; justify-content: center;
    text-align: center;
    padding: 40px 16px;
    background: none !important;
}

/* Bloc central */
.hero-center{ max-width: 700px; margin: 0 auto; }

/* Vignette visuelle + effet “shine” discret */
.showcase{
    position: relative; display: inline-block; overflow: hidden;
    background: rgba(255,255,255,.85);
    border-radius: 22px;
    box-shadow: 0 12px 32px rgba(0,0,0,.12);
    padding: clamp(6px,2vw,14px);
    margin: 0 auto 22px;
}
.showcase img{
    width: min(280px, 70vw); height: auto; display: block; margin: 0 auto;
    filter: drop-shadow(0 10px 22px rgba(0,0,0,.15));
    transition: transform .4s ease, opacity .2s ease;
}
.showcase:hover img{ transform: scale(1.05); }
/* reflet */
.showcase::after{
    content:""; position:absolute; top:-50%; left:-60%;
    width:50%; height:200%;
    background:linear-gradient(120deg,
    rgba(255,255,255,0) 0%,
    rgba(255,255,255,.65) 50%,
    rgba(255,255,255,0) 100%);
    transform: skewX(-20deg); opacity: 0;
}
.showcase:hover::after{ animation: shine 1.1s forwards; }
@keyframes shine{ 0%{left:-60%;opacity:0} 18%{opacity:1} 100%{left:120%;opacity:0} }
@media (prefers-reduced-motion: reduce){
    .showcase img{ transition: none }
    .showcase:hover::after{ animation: none }
}

/* Pills (liens catégories) */
.cat-nav{
    display: flex; justify-content: center; gap: 14px; flex-wrap: wrap;
}
.pill{
    display: inline-block;
    padding: 10px 16px;
    border-radius: 999px;
    background: #fff;
    color: var(--accent-ui);
    font-weight: 700;
    text-decoration: none;
    border: 2px solid color-mix(in srgb, var(--accent-ui) 25%, transparent);
    box-shadow: 0 6px 16px rgba(0,0,0,.08);
    transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease, background .15s ease;
}
.pill:hover, .pill:focus-visible{
    transform: translateY(-1px);
    border-color: var(--accent-ui);
    box-shadow: 0 12px 24px rgba(0,0,0,.18);
    outline: none;
}
@media (max-width: 600px){
    .showcase img{ width: min(240px, 85vw) }
    .cat-nav{ flex-direction: column; align-items: center; gap: 10px }
    .pill{ width: 70%; text-align: center }
}

/* =========================================================
   2) Grille/catalogue communs (bouquets, fleurs, coffrets,
      suppléments, emballages) + cartes
   ========================================================= */
.catalogue,
#produit_bouquet,
#emballage,
#supp-grid{
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(var(--card-min), 1fr));
    gap: 22px;
    justify-items: center;
}

/* Cartes */
.catalogue .card.product,
#produit_bouquet > *,
#emballage > *{
    background: #fff;
    padding: 12px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,.1);
    text-align: center;
    width: 100%;
    max-width: 260px;
}

/* Images dans cartes */
.catalogue .card.product img,
#produit_bouquet img,
#emballage img{
    max-width: 200px; height: auto; display: block; margin: 0 auto 10px; border-radius: 10px;
}

/* Prix */
.price{ font-weight: 600 }

/* =========================================================
   3) Éléments d’interaction (options, stock, qty)
   ========================================================= */
.swatches{
    display: flex; gap: 8px; justify-content: center; margin: 8px 0 10px;
}
.swatches input[type="radio"]{ position: absolute; left: -9999px; }
.swatches .swatch{
    width: 16px; height: 16px; border-radius: 50%;
    display: inline-block; background: var(--c); border: 1px solid #ccc;
}
.swatches input[type="radio"]:checked + .swatch{ border-color: #000 }

/* Stock / rupture */
.stock-note{ font-size: .9rem; color: #666; margin: 6px 0 0; }
.stock-badge{
    display: inline-block; margin-top: 6px; padding: 3px 8px; border-radius: 999px;
    font-size: .78rem; background: #eee; color: #333;
}
.stock-badge.oos{ color: #a30000 }

/* Message dynamique */
.stock-message{
    display: none; align-items: flex-start; gap: 10px;
    margin: 8px 0 10px; padding: 10px 12px; border-radius: 12px;
    background: #fff5f7; border: 1px solid #ffd6e0; color: #7a0000;
    line-height: 1.35; text-align: left; max-width: 100%; word-break: break-word;
}
.stock-message.show{ display: flex }
.stock-message.info{ background: #eaf4ff; border-color: #b6d4fe; color: #084298 }
.stock-message .dot{ width: 10px; height: 10px; border-radius: 50%; background: #d90429; flex: 0 0 10px; margin-top: 4px }
.stock-message.info .dot{ background: #0d6efd }
.stock-message .text{ flex: 1; font-size: .92rem }

/* Champ quantité */
.qty-input{ margin: 8px 0 4px; width: 90px }

/* =========================================================
   4) Boutons unifiés (mêmes styles que “Fleurs”)
   ========================================================= */
.add-to-cart{
    display: inline-flex; align-items: center; justify-content: center;
    padding: 10px 18px; border-radius: 999px; font-weight: 700;
    background: var(--accent-ui); color: #fff; border: 1px solid var(--accent-ui);
    text-decoration: none;
    box-shadow: 0 4px 14px rgba(0,0,0,.12);
    transition: background .2s ease, transform .15s ease, box-shadow .15s ease;
}
.add-to-cart:hover{
    background: var(--accent-ui-weak);
    transform: translateY(-1px);
    box-shadow: 0 8px 20px rgba(0,0,0,.14);
}
.add-to-cart:focus-visible{ outline: 3px solid #000; outline-offset: 2px; }
.add-to-cart:disabled{ opacity: .55; cursor: not-allowed; transform: none; box-shadow: none; }

/* Navigation (Retour / Suivant) */
.nav-actions{
    display: flex; gap: 16px; justify-content: center; margin: 16px 0 24px;
}
.nav-actions .button{
    display: inline-flex; align-items: center; justify-content: center;
    padding: 10px 18px; border-radius: 999px; font-weight: 700;
    background: #fff; color: var(--accent-ui); border: 1px solid var(--accent-ui);
    text-decoration: none;
    box-shadow: 0 4px 14px rgba(0,0,0,.10);
    transition: color .2s ease, background .2s ease, transform .15s ease, box-shadow .15s ease;
}
.nav-actions .button:hover{
    background: var(--accent-ui); color: #fff;
    transform: translateY(-1px);
    box-shadow: 0 8px 20px rgba(0,0,0,.14);
}
.nav-actions .button:focus-visible{ outline: 3px solid #000; outline-offset: 2px; }

/* =========================================================
   5) Hooks par section (si vous voulez des écarts fins)
   ========================================================= */
/* .section-rose .catalogue .card.product img{ max-width:180px } */
/* .section-bouquet .price{ letter-spacing:.2px } */
/* .section-coffret .catalogue .card.product{ max-width:300px } */
/* .section-supplement .swatches{ gap:10px } */
/* .section-emballage .catalogue{ --card-min:260px } */
